<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>client_side</title>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but client_side doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"><pgv-map></pgv-map></div>

    <script type="text/javascript">
        function resize_map () {
            var map = document.getElementById("mapcontainer");
            var map_info = document.getElementById("map_info");
            var map_image = document.getElementById("map_image");
            var body = document.getElementsByTagName('body')[0];
            var body_style = body.currentStyle || window.getComputedStyle(body);
            var height = window.innerHeight;
            map.style.height =  height + 'px';
            var img_bbox = map_image.getBoundingClientRect();
            // The rectangel returned by getBoundingClientRect takes the
            // current scrolling into account. Add it therefore to the 
            // position value.
            map_info.style.left = img_bbox.left - parseInt(body_style.marginLeft) + window.scrollX + 'px';
            map_info.style.top = img_bbox.top - parseInt(body_style.marginTop) + window.scrollY + 'px';
            map_info.style.width =  img_bbox.width + 'px';
            map_info.style.height = img_bbox.height + 'px';
        }

        window.addEventListener("resize", resize_map);
        window.addEventListener("load", resize_map);
    </script>
    <!-- built files will be auto injected -->
  </body>
</html>
